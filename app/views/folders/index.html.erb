<%= render :partial => "folders/breadcrumbs" %>

<div class="asset_list_header">
	<div class="file_name_header">
		File Name
	</div>
	<div class="file_owner_header">
		Owner
	</div>
	<div class="file_size_header">
		Size
	</div>
	<div class="file_last_updated_header">
		Modified
	</div>
</div>

<% @folders.each do |folder| %>
	<% if folder.is_public? %>
	<% if folder.children.empty? and folder.assets.empty? %>
	<div class="asset_details folder">
	<% else %>
	<div class="asset_details folder_documents">
	<% end %>
			
		<div class="file_name">
			<%= link_to truncate(folder.name, :length => 50), public_path(folder) %>
		</div>
		
		<div class="file_owner">
			<%= folder.user.name %>
		</div>
		
		<div class="file_size">
			<%= pluralize(folder.number_of_files, 'File') %>
		</div>
		
		<div class="file_last_updated">
			<%= folder.last_updated %>
		</div>
	</div> 
	<% end %>
<% end %>


<% @assets.each do |asset| %>
<div class="asset_details file">
	<div class="file_name">
		<%= link_to truncate(asset.file_name, :length => 50), download_path(asset) %>
	</div>
	
	<div class="file_owner">
		<%= asset.user.name %>
	</div>
	
	<div class="file_size">
		<%= number_to_human_size(asset.file_size, :precision => 2) %>
	</div>
	
	<div class="file_last_updated">
		<%= asset.uploaded_file_updated_at %>
	</div>
	
	<div class="actions">
		<div class="download">
			<%= link_to "Download", download_path(asset) %>
		</div>
	</div>
</div>
<% end %>

